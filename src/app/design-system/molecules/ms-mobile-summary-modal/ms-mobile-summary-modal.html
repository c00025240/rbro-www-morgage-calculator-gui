<div class="ms-mobile-summary-modal" (click)="onBackdropClick()">
  <div class="ms-mobile-summary-modal__dialog" (click)="$event.stopPropagation()">
    <!-- Header with offer type and close button -->
    <div class="ms-mobile-summary-modal__header">
      <div class="ms-mobile-summary-modal__offer-type">
        <span class="ms-badge" [ngClass]="getBadgeClass()">{{ getTitle() }}</span>
      </div>
      <button class="ms-mobile-summary-modal__close" (click)="onCloseClick()">×</button>
    </div>

    <!-- Main content card -->
    <div class="ms-mobile-summary-modal__card">
      <div class="ms-mobile-summary-modal__card-content" [ngClass]="getTransitionClass()">
        <!-- Monthly installment section -->
        <div class="ms-mobile-summary-modal__installment-section">
          <div class="ms-mobile-summary-modal__installment-label">Rata lunara fixa (3 ani)</div>
          <div class="ms-mobile-summary-modal__installment-value">{{ getMonthlyInstallment() }}</div>
        </div>

        <!-- Separator after monthly installment -->
        <div class="ms-mobile-summary-modal__separator"></div>

        <!-- Interest rates section -->
        <div class="ms-mobile-summary-modal__rates-section">
          <div class="ms-mobile-summary-modal__rate-row">
            <span class="ms-mobile-summary-modal__rate-label">Dobanda fixa (3 ani)</span>
            <span class="ms-mobile-summary-modal__rate-value">{{ getFixedRate() }}</span>
          </div>
          <div class="ms-mobile-summary-modal__rate-row">
            <span class="ms-mobile-summary-modal__rate-label">Dobanda variabila (din anul 4)</span>
            <span class="ms-mobile-summary-modal__rate-value">{{ getVariableRate() }}</span>
          </div>
        </div>

        <!-- Variable installment section -->
        <div class="ms-mobile-summary-modal__variable-section">
          <div class="ms-mobile-summary-modal__variable-label">Prima rata lunara (anul 4)</div>
          <div class="ms-mobile-summary-modal__variable-value">{{ getVariableInstallment() }}</div>
        </div>

        <!-- DAE section -->
        <div class="ms-mobile-summary-modal__dae-section">
          <div class="ms-mobile-summary-modal__dae-label">DAE</div>
          <div class="ms-mobile-summary-modal__dae-value">{{ getDAE() }}</div>
        </div>

        <!-- Installment type section -->
        <div class="ms-mobile-summary-modal__type-section">
          <div class="ms-mobile-summary-modal__type-label">Tip calcul rate</div>
          <div class="ms-mobile-summary-modal__type-value">{{ getInstallmentType() }}</div>
        </div>

        <!-- Separator line -->
        <div class="ms-mobile-summary-modal__separator"></div>

        <!-- Credit details section -->
        <div class="ms-mobile-summary-modal__credit-section">
          <div class="ms-mobile-summary-modal__credit-header">Detalii credit</div>
          <div class="ms-mobile-summary-modal__credit-row">
            <span class="ms-mobile-summary-modal__credit-label">Avans</span>
            <span class="ms-mobile-summary-modal__credit-value">{{ getDownPayment() }}</span>
          </div>
          <div class="ms-mobile-summary-modal__info-note" *ngIf="getCurrentOffer()?.downPaymentInfoNote" role="note" aria-live="polite">
            <span class="ms-mobile-summary-modal__info-note-icon" aria-hidden="true">
              <img src="/assets/icons/info-outlined.svg" alt="" width="18" height="18" />
            </span>
            <span class="ms-mobile-summary-modal__info-note-text">{{ getCurrentOffer()?.downPaymentInfoNote }}</span>
          </div>
          <div class="ms-mobile-summary-modal__credit-row">
            <span class="ms-mobile-summary-modal__credit-label">Valoare imprumutata</span>
            <span class="ms-mobile-summary-modal__credit-value">{{ getLoanAmount() }}</span>
          </div>
          <div class="ms-mobile-summary-modal__credit-row">
            <span class="ms-mobile-summary-modal__credit-label">Valoare totala de rambursat</span>
            <span class="ms-mobile-summary-modal__credit-value">{{ getTotalAmount() }}</span>
          </div>
          <div class="ms-mobile-summary-modal__credit-row" *ngIf="getCurrentOffer()?.noDocAmount">
            <span class="ms-mobile-summary-modal__credit-label">Sume fara justificare</span>
            <span class="ms-mobile-summary-modal__credit-value">{{ getCurrentOffer()?.noDocAmount }}</span>
          </div>
          <div class="ms-mobile-summary-modal__credit-row" *ngIf="getCurrentOffer()?.housePriceMin">
            <span class="ms-mobile-summary-modal__credit-label">Valoare minima a garantiei</span>
            <span class="ms-mobile-summary-modal__credit-value">{{ getCurrentOffer()?.housePriceMin }}</span>
          </div>
        </div>
        
        <!-- Spacer before legal text -->
        <div class="ms-mobile-summary-modal__separator"></div>
        
        <!-- Legal text -->
        <div class="ms-mobile-summary-modal__legal" role="note">
          Informatiile prezentate sunt pur orientative si nu antreneaza banca in angajamente contractuale. Suma maxima ce ti-ar putea fi oferita a fost calculata pe baza informatiilor furnizate. Pentru a afla informatii personalizate, suma exacta si perioada creditului solicita Scrisoarea de avizare financiara GRATUIT si FARA OBLIGATIA DE A CONTRACTA CREDITUL.
        </div>
      </div>
    </div>

    <!-- Footer with navigation buttons -->
    <div class="ms-mobile-summary-modal__footer">
      <ms-button-secondary
        [iconLeft]="'go-left'"
        [label]="''"
        [disabled]="!canGoPrevious()"
        (clicked)="onPreviousOffer()">
      </ms-button-secondary>

      <ms-button-primary
        [label]="'Aplică'"
        (clicked)="onApplyClick()">
      </ms-button-primary>

      <ms-button-secondary
        [iconRight]="'go-right'"
        [label]="''"
        [disabled]="!canGoNext()"
        (clicked)="onNextOffer()">
      </ms-button-secondary>
    </div>
  </div>
</div>


