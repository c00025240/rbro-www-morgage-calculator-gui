<ms-page-shell 
  [surface]="surface"
  [fullHeight]="true"
  [scrollable]="false">
  
  <!-- Sticky Header (Desktop & Mobile) -->
  <ms-header
    [title]="''"
    [logoSrc]="'assets/logos/long-logo-light.svg'"
    [logoAlt]="'Raiffeisen Bank'"
    [backLabel]="headerBackLabel"
    [surface]="surface"
    [primaryAction]="headerPrimaryAction"
    [secondaryAction]="headerSecondaryAction"
    [showBackButton]="false"
    (backClicked)="onHeaderBackClick($event)"
    (primaryActionClicked)="onHeaderPrimaryActionClick($event)"
    (secondaryActionClicked)="onHeaderSecondaryActionClick($event)"
    (logoClicked)="onHeaderLogoClick($event)">
  </ms-header>

  <!-- Desktop Split-Screen Layout (≥1024px) -->
  <div class="ms-simulator-page__desktop-layout">
    
    <!-- Left Panel: Controls (50% width) -->
    <div class="ms-simulator-page__left-panel">
      <div class="ms-simulator-page__left-content">
        
        <!-- Simulator Hero Section -->
        <div class="ms-simulator-page__hero">
          <ms-simulator-swap-hero
            [variant]="heroVariant"
            [label]="heroLabel"
            [chipLabel]="heroChipLabel"
            [surface]="surface"
            [hasClose]="heroHasClose"
            [disabled]="heroDisabled"
            (chipClicked)="onHeroChipClick()"
            (closeClicked)="onHeroCloseClick()">
          </ms-simulator-swap-hero>
        </div>

        <!-- Simulator User Inputs Container -->
        <div class="simulatorUserInputs">
			<!-- Info banner explicativ -->
			<div class="ms-simulator-page__info-banner">
			  <ms-info-contained-cell
				type="info"
				[text]="'Folosește calculatorul nostru de credit ipotecar pentru a face prima ta simulare de rată lunară. Introdu suma, avansul și perioada, iar instrumentul îți arată imediat cât ai plăti. Află ușor cum influențează alegerea dintre dobânda fixă și cea variabilă (legată de indicele IRCC) rata lunară'">
			  </ms-info-contained-cell>
			</div>


			<!-- 1) Venitul tau -->
			<ms-income-section
				[monthlyIncome]="monthlyIncome"
				[monthlyInstallments]="monthlyInstallments"
				[surface]="surface"
				(monthlyIncomeChange)="onMonthlyIncomeChange($event)"
				(monthlyInstallmentsChange)="onMonthlyInstallmentsChange($event)">
			</ms-income-section>

			<!-- 2) Varsta -->
			<ms-age
				[label]="'Spune-mi câți ani ai'"
				[placeholder]="ageValue.toString()"
				[suffix]="ageSuffix"
				[min]="ageMin"
				[max]="ageMax"
				[step]="ageStep"
				[value]="ageValue"
				[disabled]="ageDisabled"
				[surface]="surface"
				(valueChange)="onAgeValueChange($event)">
			</ms-age>

			<!-- 7) Perioada împrumutului -->
			<ms-loan-duration
					[label]="loanDurationLabel"
					[placeholder]="loanDurationPlaceholder"
					[suffix]="loanDurationSuffix"
					[min]="loanDurationMin"
					[max]="loanDurationMax"
					[step]="loanDurationStep"
					[value]="loanDurationValue"
					[disabled]="loanDurationDisabled"
					[surface]="surface"
					(valueChange)="onLoanDurationValueChange($event)"
					(focused)="onLoanDurationFocused($event)"
					(blurred)="onLoanDurationBlurred($event)">
			</ms-loan-duration>

			<!-- 3) Zona -->
			<ms-property-location-section
				[selectedCounty]="selectedCounty"
				[selectedCity]="selectedCity"
				[countyOptions]="countyOptions"
				[cityOptions]="cityOptions"
				[surface]="surface"
				(countyChange)="onCountyChange($event)"
				(cityChange)="onCityChange($event)">
			</ms-property-location-section>

			<!-- 4) Status proprietar -->
			<ms-owner-status *ngIf="selectedProductType !== 'refinantare'"
				[owner]="hasGuaranteeProperty"
				[surface]="surface"
				(ownerChange)="onGuaranteePropertyChange($event)">
			</ms-owner-status>

			<!-- 5) Valoarea proprietatii -->
			<ms-property-value-input
				[label]="propertyLabel"
				[helperText]="currentPropertyHelperText"
				[placeholder]="propertyPlaceholder"
				[currency]="propertyCurrency"
				[min]="propertyMin"
				[max]="propertyMax"
				[step]="propertyStep"
				[eurConversionRate]="propertyEurConversionRate"
				[value]="propertyValue"
				[disabled]="propertyDisabled"
				[surface]="surface"
				(valueChange)="onPropertyValueChange($event)"
				(focused)="onPropertyFocused($event)"
				(blurred)="onPropertyBlurred($event)">
			</ms-property-value-input>

			<!-- 6) Avans -->
			<ms-downpayment *ngIf="selectedProductType !== 'refinantare'" 
				[label]="selectedProductType === 'constructie-renovare' ? 'Contributie proprie' : 'Avans'"
				[valueProp]="downPaymentAmount"
				[disabledProp]="downPaymentDisabled"
			[infoNote]="downPaymentInfoNote"
			[infoNoteType]="downPaymentInfoType"
			[error]="downPaymentTooLow"
			[errorMessage]="downPaymentErrorMessage"
			(valueChange)="onDownPaymentAmountChange($event)">
			</ms-downpayment>
 
			<!-- Info Cell -->
			<ms-info-contained-cell
				*ngIf="selectedProductType !== 'refinantare'"
				type="info"
				[text]="'Suma solicitată: ' + requestedAmount.toLocaleString('ro-RO', {minimumFractionDigits: 2, maximumFractionDigits: 2}) + ' Lei'">
			</ms-info-contained-cell>
 			
			<!-- Interest Preferences Section -->
			<ms-interest-preferences-section
				[rateType]="rateType"
				[interestType]="interestType"
				[surface]="surface"
				(rateTypeChange)="onRateTypeChange($event)"
				(interestTypeChange)="onInterestTypeChange($event)">
			</ms-interest-preferences-section>
			
			<!-- Interest Reduction Section (owner toggle removed) -->
			<ms-interest-reduction-section
				[lifeInsurance]="lifeInsurance"
				[salaryTransfer]="salaryTransfer"
				[greenCertificate]="greenCertificate"
				[hideGreenCertificate]="selectedProductType === 'constructie-renovare'"
				[surface]="surface"
				[savingsInsurance]="calculationResponse?.loanCosts?.discounts?.discountAmountInsurance"
				[savingsSalary]="calculationResponse?.loanCosts?.discounts?.discountAmountHasSalaryInTheBank"
				[savingsGreen]="calculationResponse?.loanCosts?.discounts?.discountAmountCasaVerde"
				[totalSavingsAmount]="calculationResponse?.loanCosts?.totalDiscountsValues?.totalDiscountInstallment"
				(lifeInsuranceChange)="onLifeInsuranceChange($event)"
				(salaryTransferChange)="onSalaryTransferChange($event)"
				(greenCertificateChange)="onGreenCertificateChange($event)">
			</ms-interest-reduction-section>
			
			<!-- Future input components can be added here with automatic 24px gaps -->
 		</div>

      </div>
    </div>

    <!-- Right Panel: Summary (50% width) -->
    <div class="ms-simulator-page__right-panel">
      <div class="ms-simulator-page__right-content">
        <div class="ms-simulator-page__right-spacer"></div>
        
        <!-- Summary - Single Card With All Offers -->
        <div class="ms-simulator-page__right-content-grid">
        <div *ngIf="(calculationResponse || calculationResponseAllDiscounts || calculationResponseNoDiscounts) && !isLoading" class="ms-simulator-page__summary-card-wrapper">
          <ms-card-outside-title
            title="Ofertele tale"
            helperText="Comparație între variante"
            [hasHelper]="true"
            [surface]="surface">
          </ms-card-outside-title>
          
          <ms-web-summary-card
            [columns]="getWebSummaryColumns()"
            [primaryButtonLabel]="'Aplică în doar 2 minute'"
            [secondaryButtonLabel]="'Detalii ofertă'"
            [topInfoText]="'Informațiile prezentate sunt pur orientative și nu antrenează banca în angajamente contractuale. Suma maximă ce ți-ar putea fi oferită a fost calculată pe baza informațiilor furnizate. Pentru a afla informații personalizate, suma exactă și perioada creditului solicită Scrisoarea de avizare financiară GRATUIT și FĂRĂ OBLIGAȚIA DE A CONTRACTA CREDITUL.'"
            [bottomInfoText]="''"
            [showErrorBanner]="showOffersErrorBanner"
            [errorText]="errorMessage || 'Ne pare rău! Cererea nu poate fi procesată.'"
            (primaryClicked)="onFooterPrimaryClick($event)"
            (secondaryClicked)="onFooterDetailsClick($event)">
          </ms-web-summary-card>
        </div>
        
        </div>
        
        <!-- Loading State -->
        <ms-card *ngIf="isLoading" class="ms-simulator-page__loading-card">
          <div class="ms-simulator-page__loading-content">
            <ms-progress-spinner
              [label]="'Se calculează oferta...'"
              [showValue]="false">
            </ms-progress-spinner>
          </div>
        </ms-card>

      </div>
    </div>

  </div>

  <!-- FAQ Footer Section (Desktop) -->
  <footer class="ms-simulator-page__faq-footer ms-simulator-page__faq-footer--desktop">
    <div class="ms-simulator-page__faq-container">
      <h2 class="ms-simulator-page__faq-title">Întrebări frecvente</h2>
      
      <div class="ms-simulator-page__faq-accordion">
        <details class="ms-simulator-page__faq-item" open>
          <summary class="ms-simulator-page__faq-question">
            <span>Cum calculez rata lunară pentru creditul ipotecar?</span>
            <span class="ms-simulator-page__faq-icon"></span>
          </summary>
          <div class="ms-simulator-page__faq-answer">
            <p>Rata lunară este calculată pe baza formulei de amortizare, care ia în considerare suma împrumutată, perioada (numărul de luni) și rata dobânzii (fixă sau variabilă). O parte din rata ta acoperă dobânda, iar cealaltă parte (principalul) reduce efectiv soldul creditului. Calculatorul nostru folosește acești parametri pentru a-ți oferi o estimare precisă a costului lunar.</p>
          </div>
        </details>

        <details class="ms-simulator-page__faq-item">
          <summary class="ms-simulator-page__faq-question">
            <span>Ce este DAE (Dobânda Anuală Efectivă) și de ce este importantă?</span>
            <span class="ms-simulator-page__faq-icon"></span>
          </summary>
          <div class="ms-simulator-page__faq-answer">
            <p>DAE este cel mai important indicator al costului total al creditului. Aceasta include nu doar rata dobânzii, ci și toate costurile, comisioanele și asigurările obligatorii percepute de bancă. DAE te ajută să compari corect ofertele de credit de la instituții diferite, deoarece arată costul real anual, exprimat procentual.</p>
          </div>
        </details>

        <details class="ms-simulator-page__faq-item">
          <summary class="ms-simulator-page__faq-question">
            <span>Care este diferența dintre dobânda fixă și cea variabilă?</span>
            <span class="ms-simulator-page__faq-icon"></span>
          </summary>
          <div class="ms-simulator-page__faq-answer">
            <p><strong>Dobânda fixă</strong> îți oferă stabilitate și predictibilitate. Rata dobânzii rămâne neschimbată pe o perioadă stabilită contractual (de obicei 3, 5 sau 10 ani), protejându-te de creșterile pieței.</p>
            <p><strong>Dobânda variabilă</strong> se modifică periodic (trimestrial sau semestrial) în funcție de evoluția indicelui de referință (în prezent, IRCC). Rata ta lunară poate crește sau scădea, urmând tendințele pieței monetare.</p>
          </div>
        </details>

        <details class="ms-simulator-page__faq-item">
          <summary class="ms-simulator-page__faq-question">
            <span>Ce influențează suma maximă pe care o pot împrumuta?</span>
            <span class="ms-simulator-page__faq-icon"></span>
          </summary>
          <div class="ms-simulator-page__faq-answer">
            <p>Suma maximă pe care o poți accesa depinde în principal de:</p>
            <ul>
              <li><strong>Venitul tău net lunar:</strong> Banca aplică un grad de îndatorare, care limitează rata lunară maximă la un anumit procent din venitul tău.</li>
              <li><strong>Perioada de creditare:</strong> O perioadă mai lungă îți permite o sumă mai mare, deoarece rata lunară scade.</li>
              <li><strong>Avansul oferit:</strong> Un avans mai mare reduce suma împrumutată și, implicit, riscul băncii.</li>
            </ul>
          </div>
        </details>

        <details class="ms-simulator-page__faq-item">
          <summary class="ms-simulator-page__faq-question">
            <span>Care este avansul minim obligatoriu pentru un credit imobiliar?</span>
            <span class="ms-simulator-page__faq-icon"></span>
          </summary>
          <div class="ms-simulator-page__faq-answer">
            <p>Conform reglementărilor Băncii Naționale (BNR), avansul minim variază, dar în general se situează între 15% și 25% din valoarea proprietății, în funcție de tipul de credit, moneda acestuia și politica internă a băncii. Verifică în simulatorul nostru opțiunile de avans pentru a vedea cum îți influențează rata.</p>
          </div>
        </details>
      </div>
    </div>
  </footer>

  <!-- Mobile Layout (<1024px) - Current behavior maintained -->
  <div class="ms-simulator-page__mobile-layout">
    
    <!-- Main Content Area -->
    <main class="ms-simulator-page__content">
      
      <!-- Simulator Hero Section (Edge-to-Edge) -->
      <div class="ms-simulator-page__hero">
        <ms-simulator-swap-hero
          [variant]="heroVariant"
          [label]="heroLabel"
          [chipLabel]="heroChipLabel"
          [surface]="surface"
          [hasClose]="heroHasClose"
          [disabled]="heroDisabled"
          (chipClicked)="onHeroChipClick()"
          (closeClicked)="onHeroCloseClick()">
        </ms-simulator-swap-hero>
      </div>

      <!-- Simulator User Inputs Container -->
      <div class="simulatorUserInputs">
			<!-- Info banner explicativ -->
			<div class="ms-simulator-page__info-banner">
			  <ms-info-contained-cell
				type="info"
				[text]="'Folosește calculatorul nostru de credit ipotecar pentru a face prima ta simulare de rată lunară. Introdu suma, avansul și perioada, iar instrumentul îți arată imediat cât ai plăti. Află ușor cum influențează alegerea dintre dobânda fixă și cea variabilă (legată de indicele IRCC) rata lunară'">
			  </ms-info-contained-cell>
			</div>


			<!-- 1) Venitul tau -->
			<ms-income-section
				[monthlyIncome]="monthlyIncome"
				[monthlyInstallments]="monthlyInstallments"
				[surface]="surface"
				(monthlyIncomeChange)="onMonthlyIncomeChange($event)"
				(monthlyInstallmentsChange)="onMonthlyInstallmentsChange($event)">
			</ms-income-section>

			<!-- 2) Varsta -->
            <ms-age
				[label]="'Spune-mi câți ani ai'"
				[placeholder]="ageValue.toString()"
				[suffix]="ageSuffix"
				[min]="ageMin"
				[max]="ageMax"
				[step]="ageStep"
				[value]="ageValue"
				[disabled]="ageDisabled"
				[surface]="surface"
				(valueChange)="onAgeValueChange($event)">
			</ms-age>

		  <!-- 7) Perioada împrumutului -->
		  <ms-loan-duration
				  [label]="loanDurationLabel"
				  [placeholder]="loanDurationPlaceholder"
				  [suffix]="loanDurationSuffix"
				  [min]="loanDurationMin"
				  [max]="loanDurationMax"
				  [step]="loanDurationStep"
				  [value]="loanDurationValue"
				  [disabled]="loanDurationDisabled"
				  [surface]="surface"
				  (valueChange)="onLoanDurationValueChange($event)"
				  (focused)="onLoanDurationFocused($event)"
				  (blurred)="onLoanDurationBlurred($event)">
		  </ms-loan-duration>

			<!-- 3) Zona -->
			<ms-property-location-section
				[selectedCounty]="selectedCounty"
				[selectedCity]="selectedCity"
				[countyOptions]="countyOptions"
				[cityOptions]="cityOptions"
				[surface]="surface"
				(countyChange)="onCountyChange($event)"
				(cityChange)="onCityChange($event)">
			</ms-property-location-section>

			<!-- 4) Status proprietar -->
			<ms-owner-status *ngIf="selectedProductType !== 'refinantare'"
				[owner]="hasGuaranteeProperty"
				[surface]="surface"
				(ownerChange)="onGuaranteePropertyChange($event)">
			</ms-owner-status>

			<!-- 5) Valoarea proprietatii -->
			<ms-property-value-input
				[label]="propertyLabel"
				[helperText]="currentPropertyHelperText"
				[placeholder]="propertyPlaceholder"
				[currency]="propertyCurrency"
				[min]="propertyMin"
				[max]="propertyMax"
				[step]="propertyStep"
				[eurConversionRate]="propertyEurConversionRate"
				[value]="propertyValue"
				[disabled]="propertyDisabled"
				[surface]="surface"
				(valueChange)="onPropertyValueChange($event)"
				(focused)="onPropertyFocused($event)"
				(blurred)="onPropertyBlurred($event)">
			</ms-property-value-input>

			<!-- 6) Avans -->
			<ms-downpayment *ngIf="selectedProductType !== 'refinantare'" 
				[label]="selectedProductType === 'constructie-renovare' ? 'Contributie proprie' : 'Avans'"
				[valueProp]="downPaymentAmount"
				[disabledProp]="downPaymentDisabled"
			[infoNote]="downPaymentInfoNote"
			[infoNoteType]="downPaymentInfoType"
			[error]="downPaymentTooLow"
			[errorMessage]="downPaymentErrorMessage"
			(valueChange)="onDownPaymentAmountChange($event)">
			</ms-downpayment>
 			
			<!-- Info Cell -->
			<ms-info-contained-cell
				*ngIf="selectedProductType !== 'refinantare'"
				type="info"
				[text]="'Suma solicitată: ' + requestedAmount.toLocaleString('ro-RO', {minimumFractionDigits: 2, maximumFractionDigits: 2}) + ' Lei'">
			</ms-info-contained-cell>
 			
			<!-- Interest Preferences Section -->
			<ms-interest-preferences-section
				[rateType]="rateType"
				[interestType]="interestType"
				[surface]="surface"
				(rateTypeChange)="onRateTypeChange($event)"
				(interestTypeChange)="onInterestTypeChange($event)">
			</ms-interest-preferences-section>
			
			<!-- Interest Reduction Section (owner toggle removed) -->
			<ms-interest-reduction-section
				[lifeInsurance]="lifeInsurance"
				[salaryTransfer]="salaryTransfer"
				[greenCertificate]="greenCertificate"
				[hideGreenCertificate]="selectedProductType === 'constructie-renovare'"
				[surface]="surface"
				[savingsInsurance]="calculationResponse?.loanCosts?.discounts?.discountAmountInsurance"
				[savingsSalary]="calculationResponse?.loanCosts?.discounts?.discountAmountHasSalaryInTheBank"
				[savingsGreen]="calculationResponse?.loanCosts?.discounts?.discountAmountCasaVerde"
				[totalSavingsAmount]="calculationResponse?.loanCosts?.totalDiscountsValues?.totalDiscountInstallment"
				(lifeInsuranceChange)="onLifeInsuranceChange($event)"
				(salaryTransferChange)="onSalaryTransferChange($event)"
				(greenCertificateChange)="onGreenCertificateChange($event)">
			</ms-interest-reduction-section>
			
			<!-- Future input components can be added here with automatic 24px gaps -->
 		</div>
      
    </main>

  </div>

  <!-- Sticky Footer (Mobile & Tablet Only) -->
  <ms-sticky-footer
    class="ms-simulator-page__footer"
    [leftAmount]="footerLeftAmount"
    [rightAmount]="footerRightAmount"
    [actions]="footerActions"
    [surface]="surface"
    [errorBannerText]="showOffersErrorBanner ? (errorMessage || 'Ne pare rău! Cererea nu poate fi procesată.') : undefined"
    (detailsClicked)="onFooterDetailsClick($event)"
    (primaryClicked)="onFooterPrimaryClick($event)"
    (shareClicked)="onFooterShareClick($event)">
  </ms-sticky-footer>

  <!-- FAQ Footer Section (Mobile) -->
  <footer class="ms-simulator-page__faq-footer ms-simulator-page__faq-footer--mobile">
    <div class="ms-simulator-page__faq-container">
      <h2 class="ms-simulator-page__faq-title">Întrebări frecvente</h2>
      
      <div class="ms-simulator-page__faq-accordion">
        <details class="ms-simulator-page__faq-item" open>
          <summary class="ms-simulator-page__faq-question">
            <span>Cum calculez rata lunară pentru creditul ipotecar?</span>
            <span class="ms-simulator-page__faq-icon"></span>
          </summary>
          <div class="ms-simulator-page__faq-answer">
            <p>Rata lunară este calculată pe baza formulei de amortizare, care ia în considerare suma împrumutată, perioada (numărul de luni) și rata dobânzii (fixă sau variabilă). O parte din rata ta acoperă dobânda, iar cealaltă parte (principalul) reduce efectiv soldul creditului. Calculatorul nostru folosește acești parametri pentru a-ți oferi o estimare precisă a costului lunar.</p>
          </div>
        </details>

        <details class="ms-simulator-page__faq-item">
          <summary class="ms-simulator-page__faq-question">
            <span>Ce este DAE (Dobânda Anuală Efectivă) și de ce este importantă?</span>
            <span class="ms-simulator-page__faq-icon"></span>
          </summary>
          <div class="ms-simulator-page__faq-answer">
            <p>DAE este cel mai important indicator al costului total al creditului. Aceasta include nu doar rata dobânzii, ci și toate costurile, comisioanele și asigurările obligatorii percepute de bancă. DAE te ajută să compari corect ofertele de credit de la instituții diferite, deoarece arată costul real anual, exprimat procentual.</p>
          </div>
        </details>

        <details class="ms-simulator-page__faq-item">
          <summary class="ms-simulator-page__faq-question">
            <span>Care este diferența dintre dobânda fixă și cea variabilă?</span>
            <span class="ms-simulator-page__faq-icon"></span>
          </summary>
          <div class="ms-simulator-page__faq-answer">
            <p><strong>Dobânda fixă</strong> îți oferă stabilitate și predictibilitate. Rata dobânzii rămâne neschimbată pe o perioadă stabilită contractual (de obicei 3, 5 sau 10 ani), protejându-te de creșterile pieței.</p>
            <p><strong>Dobânda variabilă</strong> se modifică periodic (trimestrial sau semestrial) în funcție de evoluția indicelui de referință (în prezent, IRCC). Rata ta lunară poate crește sau scădea, urmând tendințele pieței monetare.</p>
          </div>
        </details>

        <details class="ms-simulator-page__faq-item">
          <summary class="ms-simulator-page__faq-question">
            <span>Ce influențează suma maximă pe care o pot împrumuta?</span>
            <span class="ms-simulator-page__faq-icon"></span>
          </summary>
          <div class="ms-simulator-page__faq-answer">
            <p>Suma maximă pe care o poți accesa depinde în principal de:</p>
            <ul>
              <li><strong>Venitul tău net lunar:</strong> Banca aplică un grad de îndatorare, care limitează rata lunară maximă la un anumit procent din venitul tău.</li>
              <li><strong>Perioada de creditare:</strong> O perioadă mai lungă îți permite o sumă mai mare, deoarece rata lunară scade.</li>
              <li><strong>Avansul oferit:</strong> Un avans mai mare reduce suma împrumutată și, implicit, riscul băncii.</li>
            </ul>
          </div>
        </details>

        <details class="ms-simulator-page__faq-item">
          <summary class="ms-simulator-page__faq-question">
            <span>Care este avansul minim obligatoriu pentru un credit imobiliar?</span>
            <span class="ms-simulator-page__faq-icon"></span>
          </summary>
          <div class="ms-simulator-page__faq-answer">
            <p>Conform reglementărilor Băncii Naționale (BNR), avansul minim variază, dar în general se situează între 15% și 25% din valoarea proprietății, în funcție de tipul de credit, moneda acestuia și politica internă a băncii. Verifică în simulatorul nostru opțiunile de avans pentru a vedea cum îți influențează rata.</p>
          </div>
        </details>
      </div>
    </div>
  </footer>

  <!-- Mobile/Tablet Summary Modal (shown only when pressing Detalii) -->
  <ms-mobile-summary-modal
    *ngIf="isMobileSummaryVisible && calculationResponse"
    [offers]="getMobileOffers()"
    (closed)="onMobileSummaryClosed()"
    (applyClicked)="onMobileApplyClick()">
  </ms-mobile-summary-modal>

  <!-- Simulator Option Modal -->
  <simulator-option-modal
    [isVisible]="isSimulatorModalVisible"
    [surface]="surface === 'dark' ? 'dark' : 'light'"
    (closeModal)="onSimulatorModalClose()"
    (optionSelected)="onSimulatorOptionSelected($event)">
  </simulator-option-modal>

</ms-page-shell> 